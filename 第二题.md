2、**结合职位的关键特征挖掘，从多角度设计并展示职位画像，如关健技能、偏好城市、薪酬待遇等**

为了全面、精准地描绘市场对特定人才的需求画像，我们基于职位招聘数据 ，从多角度构建了职位可视化画像。基于四万条数据的影响和命题要求的理解，本题前两个视图我们更多采用更加宏观的视角分析处理问题，让使用者能够更加全面清晰的了解市场招聘需求的整体信息，更好的做出分析与决策。最后一个视图则是基于使用者的偏好自主选择想要了解对比的招聘信息，我们设置了横向对比、纵向拓展的两种过程，让使用者既能够直接比较各个职位信息的招聘要求，也能够深入了解该职位和类似职位的差异程度，达到微观决策的效果。

**视图一：职业平行坐标图**

**目标**：为了理解技能、薪酬、行业特性、市场需求之间的内在联系,该平行坐标图采用了数据类型中简单数据类型和复杂数据类型的综合表示方法，把单维度数据组合评分形成复杂维度的数据类型便于更深层次的展示职位的不同信息。

**可视化设计**：本视图从5个维度展示不同职位间的差异信息,分别是职位名称、薪酬、学历要求、经验要求、行业类别五个维度。用户在选定3个职业名称后,本视图将自动形成4个竖状平行坐标轴以类似折线的形状表示出三个职业的不同。

第一维是薪酬待遇,根据经过数据处理后的薪酬年薪来标识薪酬;

第二维是关键技能要求,该维度的数据采取综合经验要求与学历要求量化后的数值各百分之50加权计算得到技能要求数据;

第三维是行业分布集中度(热度),根据每个职位在不同行业分布集中离散情况,用香农熵 H(X) = -Σ p(x) log₂ p(x)计算并量化区间标识;

第四维是职业热度,根据职位出现频率划分热度。

**交互设计**：用户初始选定三个职位名称,得到平行坐标图后可直接比较三种职位的四种不同特征,鼠标可靠近其中一条折线看到该职位更单维度且具体的信息特征。

![image-20251113184916078](C:\Users\邓煜涛\AppData\Roaming\Typora\typora-user-images\image-20251113184916078.png)

​																										平行坐标图示例（网图示例）

**接口**

接口地址: GET /api/positions/parallel

功能描述: 获取多个职位的平行坐标数据，用于展示职位在薪酬、技能要求、行业分布和热度四个维度的对比

请求参数:

参数名   类型     必填     说明

job_titles array     是   职位名称数组，最多3个职位

请求示例:

```
GET/api/positions/parallel?job_titles=bfbc45b05c5a4425210cd2cb3d84ae09GC&job_titles=c9a30a5443d04270fb0f49d437c3376bAy&job_titles=9e7afc7cdb61931eb7d2cc8398b80ecfSQ
```

响应示例:

```json
{
  "code": 200,
  "data": {
    "dimensions": ["薪资待遇", "技能要求", "行业集中度", "职业热度"],
    "positions": [
      {
        "job_title": "bfbc45b05c5a4425210cd2cb3d84ae09GC",
        "values": [45.2, 68.7, 32.1, 85.4],
        "details": {
          "salary": "7.78K",
          "experience": "EdD",
          "education": "GI",
          "industry_entropy": 2.34,
          "job_frequency": 3340
        }
      },
      {
        "job_title": "c9a30a5443d04270fb0f49d437c3376bAy",
        "values": [65.8, 72.3, 45.6, 62.1],
        "details": {
          "salary": "10.93K",
          "experience": "Eas",
          "education": "GX",
          "industry_entropy": 1.89,
          "job_frequency": 2629
        }
      }
    ]
  },
  "message": "获取平行坐标数据成功",
  "request_id": "a1b2c3d4-e5f6-7890-abcd-ef1234567890",
  "status": "success",
  "timestamp": "2025-10-27T23:15:30.123456"
}
```

**视图二：职位特征与薪资流动桑基图**

**目标**：为了深入理解职位特征如何流向不同的薪资水平，揭示技能要求、行业特性、市场需求与薪酬结果之间的转化路径和内在联系，本桑基图采用多层级流动网络的可视化方法，将离散特征维度通过流动路径连接形成完整的职业发展轨迹，便于系统性地分析职位特征向薪资结果的转化效率和模式规律。

**可视化设计**：本视图通过三层节点结构和流动边线构建职业特征到薪资结果的完整转化路径

第一层：基础特征输入节点。技能要求维度：基于学历要求与经验要求的综合量化，划分为初级、中级、高级三个等级，反映职位对综合能力的要求水平。行业分布维度：根据职位在不同行业的分布离散程度，通过香农熵计算划分为分散、中等、集中三个等级，表征职位的行业专属性。市场需求维度：依据职位在数据集中的出现频率，划分为冷门、普通、热门三个等级，体现市场供需关系;

第二层：特征组合交互节点。通过业务逻辑定义的关键特征组合，展示多维度特征的协同效应：高技能+行业集中,专业化深度发展路径;高技能+行业分散,跨界应用发展路径;中级技能+市场需求,市场驱动发展路径;初级技能+新兴领域,机会窗口发展路径。

第三层：薪资结果输出节点。基于处理后的薪酬数据划分为四个等级。

**交互设计**：两种模式:整体模式,展示全部信息;对比模式:展示平行坐标图选择的职位信息。用户可直接选择展示全部信息的桑基图,也可以从平行坐标图进入转换成桑基图分析案例。

![image-20251113184933779](C:\Users\邓煜涛\AppData\Roaming\Typora\typora-user-images\image-20251113184933779.png)

​																										桑基图示例（网图示例）

**接口**：

接口地址: GET /api/positions/sankey

功能描述: 获取职位特征到薪资结果的流动路径数据，支持整体模式和对比模式

请求参数:

参数名   类型     必填     说明

mode    string    否   显示模式：all(整体)/compare(对比)，默认all

job_titles  array     否   对比模式下指定的职位名称数组

请求示例:

```
GET/api/positions/sankey?mode=compare&job_titles=bfbc45b05c5a4425210cd2cb3d84ae09GC&job_titles=c9a30a5443d04270fb0f49d437c3376bAy
```

响应示例:

```json
{
  "code": 200,
  "data": {
    "nodes": [
      {"name": "初级技能", "category": "技能要求"},
      {"name": "中级技能", "category": "技能要求"},
      {"name": "行业集中", "category": "行业分布"},
      {"name": "行业分散", "category": "行业分布"},
      {"name": "高技能+行业集中", "category": "特征组合"},
      {"name": "中级技能+市场需求", "category": "特征组合"},
      {"name": "0-10K", "category": "薪资结果"},
      {"name": "10-20K", "category": "薪资结果"}
    ],
    "links": [
      {"source": "中级技能", "target": "高技能+行业集中", "value": 1200},
      {"source": "行业集中", "target": "高技能+行业集中", "value": 1200},
      {"source": "高技能+行业集中", "target": "10-20K", "value": 800},
      {"source": "高技能+行业集中", "target": "20K+", "value": 400}
    ],
    "categories": ["技能要求", "行业分布", "特征组合", "薪资结果"]
  },
  "message": "获取桑基图数据成功",
  "request_id": "b2c3d4e5-f6g7-8901-bcde-f23456789012",
  "status": "success",
  "timestamp": "2025-10-27T23:20:45.654321"
}
```

**视图三：多维度嵌套柱状图**

**目标**：多维度嵌套柱状图是一种层次化信息编码的可视化方案，通过在传统柱状图基础上增加嵌套结构和多编码维度，实现单一图表中同时展示多个相关维度的复杂关系。

**可视化设计**：本视图是多层结构六个维度从浅入深分析职位信息特征。第一层是多职位宏观对柱状图，用户输入界面支持用户选定三个职位名称后，系统根据不同职位名称的预处理数据生成三个柱子的柱状图，每个柱子的高度代表量化后的综合技能分数（与前面的处理方式一样，经验学历各占50%）；柱子的内部采取点状图分布，越密集表示该职位行业集中度越大（行业集中度也是用前面的香农熵处理），每个柱子还涵盖平均薪资、技能要求和城市分布集中度的具体数值，在用户鼠标接触柱状图时候显示。第二层是单个职位深入分析柱状图，将选定的某一个职位名称与所有职位信息的综合特征一起表示，结合箱线图的思想，竖轴代表薪资，对于薪资的中位数上四分位数下四分位数平均值都有表示，并且柱子上方标识了该职位最偏好的三个城市便于用户进行最显著的横向对比。

**交互设计**：本交互设计采用两层级柱状图结构。用户首先输入3个职位名称，系统生成第一层对比图，展示各职位的技能、行业、薪资差异。点击任一柱子进入第二层详细分析，展示该职位与所有职位在薪资与行政三个维度的对比柱状图，柱子上方显示该职位分布最多的三个城市代码。支持悬停查看详细信息，点击返回重新选择其他职位，实现从宏观对比到个体分析的完整探索路径。

**接口**：

接口地址: GET /api/positions/nested_bar

功能描述: 获取多维度嵌套柱状图数据，支持宏观对比和微观分析

请求参数:

参数名   类型     必填     说明

job_titles array     是   职位名称数组，最多3个职位

detail_job     string    否   详细分析的单个职位名称

请求示例:

```
GET/api/positions/nested_bar?job_titles=bfbc45b05c5a4425210cd2cb3d84ae09GC&job_titles=c9a30a5443d04270fb0f49d437c3376bAy&detail_job=bfbc45b05c5a4425210cd2cb3d84ae09GC
```

响应示例:

```json
{
  "code": 200,
  "data": {
    "macro_comparison": [
      {
        "job_title": "bfbc45b05c5a4425210cd2cb3d84ae09GC",
        "skill_score": 68.7,
        "industry_concentration": 32.1,
        "avg_salary": 7.78,
        "city_distribution": ["F047", "K115", "P949"]
      },
      {
        "job_title": "c9a30a5443d04270fb0f49d437c3376bAy", 
        "skill_score": 72.3,
        "industry_concentration": 45.6,
        "avg_salary": 10.93,
        "city_distribution": ["F047", "Y232", "B170"]
      }
    ],
    "micro_analysis": {
      "job_title": "bfbc45b05c5a4425210cd2cb3d84ae09GC",
      "salary_statistics": {
        "min": 3.5,
        "max": 15.2,
        "median": 7.78,
        "q1": 5.6,
        "q3": 9.8,
        "avg": 7.78
      },
      "top_cities": [
        {"city": "F047", "count": 450, "percentage": 13.47},
        {"city": "K115", "count": 380, "percentage": 11.38},
        {"city": "P949", "count": 320, "percentage": 9.58}
      ],
      "comparison_with_all": {
        "all_positions_avg_salary": 9.59,
        "all_positions_skill_avg": 65.2,
        "position_percentile": 72.5
      }
    }
  },
  "message": "获取嵌套柱状图数据成功",
  "request_id": "c3d4e5f6-g7h8-9012-cdef-345678901234",
  "status": "success",
  "timestamp": "2025-10-27T23:25:15.987654"
}
```

